<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login</title>
<link rel="stylesheet" type="text/css" id="applicationStylesheet" href="/css/Login.css"/>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.28/dist/sweetalert2.all.min.js"></script>
<link rel="stylesheet" href="@sweetalert2/theme-dark/dark.css">
<script src="sweetalert2/dist/sweetalert2.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/7.14.1-0/firebase.js"></script>
<script id="applicationScript" type="text/javascript" src="/js/Login.js"></script>
<script>
	if (document.documentElement.clientWidth <760) {
	 window.location = "/Mobile_Login.html";
	}
	</script>


</head>
<body>
<div id="Login">
	<div id="Title_cr">
		<svg class="Line_1">
			<path id="Line_1" d="M 0 0 L 249 0">
			</path>
		</svg>
		<svg class="Line_2" >
			<path id="Line_2" d="M 0 0 L 249 0">
			</path>
		</svg>
		<svg class="Line_3">
			<path id="Line_3" d="M 0 0 L 388 0">
			</path>
		</svg>
		<div id="WINNING___WAGERS_cv">
			<span>WINNING       <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      WAGERS</span>
		</div>
	</div>
	<form action="" id="loginForm"> <div id="Login_Section">
		<svg class="Rectangle_1_cx">
			<rect id="Rectangle_1_cx" rx="15" ry="15" x="0" y="0" width="593" height="357">
			</rect>
		</svg>
		<div id="Login_BTN">
			
			
		</div></input>
		<div id="Password_Box">
			<input type="text" id='PasswordID' class="Rectangle_3_c" placeholder="Password" name="password"> 
			<div id="Password">
			</div>
		</div>
	<div id="Username_Box">
		<input type="text" id='UsernameID' class="Rectangle_3_c" placeholder="Username" name="username"> 
			<div id="Username">
			</div>
		</div>		

		<button id="Login_BTN" type="submit">Login</button> 

	</form>
	</div>

	<script>

		const firebaseConfig = {
};

  firebase.initializeApp(firebaseConfig);


  document.getElementById("loginForm").addEventListener("submit", submitForm)

  function submitForm(e) {
	e.preventDefault();
	let username = getInputVal('UsernameID')
	let password = getInputVal('PasswordID')
	var UserSignIn = firebase.database().ref('Users/' + username + '/password');
	UserSignIn.on('value', (snapshot) => {
  	const data = snapshot.val();
	  
	  if (data == password) {
		document.cookie = `username=${username}; path=/`;
		console.log(`connected to database, password: ${data}`)
		location.href = '/Select_Odds.html';

	  } else {
		Swal.fire({
  			icon: 'error',
  			title: 'Oops...',
  			text: 'Something went wrong!',
  			footer: '<a href="https://support.google.com/accounts/answer/6009563?hl=en">Why do I have this issue?</a>',
			class: { Login
  },
})
	  }
});

}
  
function getInputVal(id) {
	return document.getElementById(id).value
	
}

	</script>
</div>
</body>
</html>

